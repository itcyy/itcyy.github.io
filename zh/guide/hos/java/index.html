<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HarmonyOS历史 | 阿诺斯编程学习基地</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="欢迎来到我的地盘">
    
    <link rel="preload" href="/assets/css/0.styles.e8e4f3a3.css" as="style"><link rel="preload" href="/assets/js/app.c7e71d16.js" as="script"><link rel="preload" href="/assets/js/2.733019b2.js" as="script"><link rel="preload" href="/assets/js/30.f746f063.js" as="script"><link rel="prefetch" href="/assets/js/10.42fb2994.js"><link rel="prefetch" href="/assets/js/11.07a7926b.js"><link rel="prefetch" href="/assets/js/12.f14ef4bc.js"><link rel="prefetch" href="/assets/js/13.bad5c579.js"><link rel="prefetch" href="/assets/js/14.b4f2a0cc.js"><link rel="prefetch" href="/assets/js/15.fbcdfabd.js"><link rel="prefetch" href="/assets/js/16.778523ff.js"><link rel="prefetch" href="/assets/js/17.e40f4083.js"><link rel="prefetch" href="/assets/js/18.a47bc1c5.js"><link rel="prefetch" href="/assets/js/19.2119da09.js"><link rel="prefetch" href="/assets/js/20.9341006e.js"><link rel="prefetch" href="/assets/js/21.3d47724d.js"><link rel="prefetch" href="/assets/js/22.17b4245a.js"><link rel="prefetch" href="/assets/js/23.6508d180.js"><link rel="prefetch" href="/assets/js/24.896cf2e4.js"><link rel="prefetch" href="/assets/js/25.5f0bc684.js"><link rel="prefetch" href="/assets/js/26.4c4d6f2d.js"><link rel="prefetch" href="/assets/js/27.1dd4ea73.js"><link rel="prefetch" href="/assets/js/28.137d32b4.js"><link rel="prefetch" href="/assets/js/29.44258244.js"><link rel="prefetch" href="/assets/js/3.1aa3be4a.js"><link rel="prefetch" href="/assets/js/4.d12742be.js"><link rel="prefetch" href="/assets/js/5.216cae74.js"><link rel="prefetch" href="/assets/js/6.2d0a63f8.js"><link rel="prefetch" href="/assets/js/7.9c9172a7.js"><link rel="prefetch" href="/assets/js/8.113fcfe2.js"><link rel="prefetch" href="/assets/js/9.ac509f23.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e8e4f3a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/index.png" alt="阿诺斯编程学习基地" class="logo"> <span class="site-name can-hide">阿诺斯编程学习基地</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/zh/guide/go/" class="nav-link">
  Go开发
</a></div><div class="nav-item"><a href="/zh/guide/gin/" class="nav-link">
  Gin
</a></div><div class="nav-item"><a href="/zh/guide/blog/" class="nav-link">
  Go博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HarmonyOS" class="dropdown-title"><span class="title">HarmonyOS</span> <span class="arrow down"></span></button> <button type="button" aria-label="HarmonyOS" class="mobile-dropdown-title"><span class="title">HarmonyOS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/guide/hos/java/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/hos/ets/" class="nav-link">
  eTS
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/zh/guide/go/" class="nav-link">
  Go开发
</a></div><div class="nav-item"><a href="/zh/guide/gin/" class="nav-link">
  Gin
</a></div><div class="nav-item"><a href="/zh/guide/blog/" class="nav-link">
  Go博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HarmonyOS" class="dropdown-title"><span class="title">HarmonyOS</span> <span class="arrow down"></span></button> <button type="button" aria-label="HarmonyOS" class="mobile-dropdown-title"><span class="title">HarmonyOS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/guide/hos/java/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/hos/ets/" class="nav-link">
  eTS
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/zh/guide/hos/java/" aria-current="page" class="active sidebar-link">HarmonyOS历史</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/zh/guide/hos/java/01.html" class="sidebar-link">HarmonyOS app 开发应用框架的架构和组成（Java）</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="harmonyos历史"><a href="#harmonyos历史" class="header-anchor">#</a> HarmonyOS历史</h1> <h4 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h4> <p>​		在2021年6月2日，华为官方正式发布了HarmonyOS，对此虽然不全是赞美的声音，但这种努力打破美国垄断，挑战谷歌、苹果在移动操作系统上垄断地位的尝试必将成为中国科技史上的里程碑事件。</p> <p>​		5G到了2020年就开始出现了，理论速度达到10Gbps/S，平时使用的速度也能稳定在1GB/s~2GB/s，并可以实现 1080P高清视频的同摄同传。 在这个时代，无人车，无人机，物联网等渐渐出现在了大家的生活，在高网速下，电影分分钟就可以下载完成。 暂时还没有操作系统可以定义这个时代，而鸿蒙操作系统瞄准的也是这个时代。在以前的智能手机中，可以根据自 己的喜好自己定制软件。在鸿蒙系统中，手机不仅仅是手机，而是超级终端的控制器。利用鸿蒙可以根据自己的需 求来组装不同的硬件设备。让手机、TV大屏、无人机等形成一个整体。手机作为控制的超级终端，可以轻松的控制 他们。 所以鸿蒙并不是想替代安卓，而是把目光瞄准了下一个移动互联网时代。</p> <p>鸿蒙产生的时代背景，总体来说有六个：</p> <p>​		1、数字化的时代背景：数字化新时代的到来需要新的操作系统；</p> <p>​		2、IoT 与 5G：5G物联网时代的到来对操作系统提出了新的要求；</p> <p>​		3、中国面临“卡脖子”的挑战：独立自主的研发操作系统是迫切的需求；</p> <p>​		4、人工智能的兴起：AIoT场景天然要求多设备智能协同，需要一个适用于各类型机器的操作系统；</p> <p>​		5、大数据与云计算：TB、PB级的大数据需要一个能够提供多机互联的操作系统；</p> <p>​		6、全球信息安全面临挑战：网络安全威胁呈现多元化、复杂化、频发高发趋势，需要一个足够安全的系统进行保障。</p> <h4 id="harmonyos官方定义"><a href="#harmonyos官方定义" class="header-anchor">#</a> HarmonyOS官方定义</h4> <p>鸿蒙是一个全场景，面向未来的操作系统。</p> <p>解释：</p> <p>鸿蒙并不是一个单纯的手机操作系统，而是手机 + 智能设备的总称。可以安装在包括手机、手表、无人机等很多 设备上。</p> <p>鸿蒙分为两类：</p> <ul><li><p>应用开发：也是整个鸿蒙的控制中心。（手机app）</p> <p>开发语言：Java，js，C/C++（华为目前建议使用的还是Java）</p></li> <li><p>内核：基于Linux内核开发的</p></li> <li><p>设备开发：也就是无人机，摄像机等硬件设备。最合适的开发语言：C/C++</p></li></ul> <h3 id="安装鸿蒙编译器-deveco-studio"><a href="#安装鸿蒙编译器-deveco-studio" class="header-anchor">#</a> 安装鸿蒙编译器 --DevEco Studio</h3> <h4 id="适合开发鸿蒙的语言"><a href="#适合开发鸿蒙的语言" class="header-anchor">#</a> 适合开发鸿蒙的语言</h4> <hr> <p>​	Java，C/C++，JavaScript，eTS，cangjie（仓颉）</p> <ul><li><p>Java，js适合手机应用的开发</p></li> <li><p>C/C++适用于硬件开发</p> <div class="language- extra-class"><pre><code> 在以后的鸿蒙版本中（华为计划是3.0），即将推出仓颉语言开发。（已经开始内测，还没可以使用）
</code></pre></div></li></ul> <p>​		 但是就目前而言，华为主推的还是Java。</p> <h4 id="鸿蒙开发的完整流程"><a href="#鸿蒙开发的完整流程" class="header-anchor">#</a> 鸿蒙开发的完整流程</h4> <hr> <p><img src="https://www.itcyy.cn/nailong/img/img/kaifa.png" alt=""></p> <h4 id="java开发的准备工作"><a href="#java开发的准备工作" class="header-anchor">#</a> Java开发的准备工作</h4> <hr> <p>1）注册开发者（略）</p> <p>2）下载开发工具</p> <p>DevEco Studio就是鸿蒙应用开发的开发工具，是基于IntelliJ IDEA Community开源版本打造的，所以如果大家有 idea的基础，在学习DevEco Studio是非常容易上手的。</p> <p>DevEco Studio中提供SDK Manager统一管理SDK和这个包依赖的工具链。通过SDK Manager能自动下载各个语 言对应的SDK包。</p> <p>4）下载网址：<a href="https://developer.huawei.com/consumer/cn/deveco_studio" target="_blank" rel="noopener noreferrer">HarmonyOS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>5）版本说明</p> <p>​	 DevEco Studio 1.0 用于华为EMUI系统的应用App。</p> <p>​</p> <p>​	 DevEco Studio 2.0 用于华为鸿蒙系统（HarmonyOS）的应用App。</p> <p>​	 DevEco Studio 3.0 用于华为鸿蒙系统（openHarmonyOS）的应用App。</p> <p>4）使用Java开发</p> <p>JDK:是Java语言所需要的开发环境。鸿蒙开发工具DevEco Studio会帮我们自动下载。</p> <p>!!!!<strong>鸿蒙开发工具目前只支持JDK8</strong>。</p> <p>5）常用插件</p> <ol><li><p>Toolchains：SDK工具链，HarmonyOS应用开发必备工具集，包括编译、打包、签名、数据库管理等工具的集 合，首次下载SDK时默认下载。</p></li> <li><p>Previewer：Lite Wearable预览器，在开发过程中可以动态预览Lite Wearable应用的界面呈现效果，默认不自 动下载，需手动勾选下载。</p></li></ol> <p>6）安装开发工具</p> <p>​		傻瓜式安装--略</p> <h4 id="deveco-studio项目结构-java"><a href="#deveco-studio项目结构-java" class="header-anchor">#</a> DevEco Studio项目结构（Java）</h4> <hr> <div class="language- extra-class"><pre><code>		- **MyApplication：整个项目的项目名**

		- **External Libraries：项目中要导入的第三方jar包**
		- .gradle：是项目管理工具gradle的信息（一般是不会动）
		- .idea：是开发工具的信息（一般不会动）
		- **entry：是应用主模块，在一个项目中，有且只有一个，所有的代码都在这个里面。（重要）**
		- gradle：项目管理工具gradle的配置信息和所需要用到的jar包，在这个里面有一个porperties的配置文件， 可以看到gradle的版本号，一般我们会用默认的，也不会动
		- build.gradle：第三方jar包的配置文件，以后在开发中要用到第三方jar包需要在这个里面配置。
		- build.gradle：第三方jar包的配置文件，以后在开发中要用到第三方jar包需要在这个里面配置。（一个是linux系统的，一个是windows系统的。）
		- local.properties：本地SDK配置信息，一般也不动。
		- build：一般不会动，这个文件夹里面有一个R文件，记录每一个资源文件对应的id。里面的内容是自动生成的。（R文件是一个压缩包，里面装的ResourceTable这个类的字节码文件。）
		- libs：第三方jar包存放的位置
		- src：主要代码（src里面还有三个目录，main，ohosTest，test）
		- src里面还有三个目录
		- src里面还有三个目录
		- test：是Junit的测试工具。
</code></pre></div><p><img src="https://www.itcyy.cn/nailong/img/img/jiegou.png" alt=""></p> <h3 id="第一个harmonyos项目-官方教程解析"><a href="#第一个harmonyos项目-官方教程解析" class="header-anchor">#</a> 第一个HarmonyOS项目（官方教程解析）</h3> <hr> <h4 id="第一个harmony入门应用helloworld"><a href="#第一个harmony入门应用helloworld" class="header-anchor">#</a> 第一个Harmony入门应用HelloWorld</h4> <p>​	对于Helloworld，相信大家都不会陌生，我们学习大部分语言的时候，所做的第一个项目就是HelloWorld。</p> <p>​	当我们新建第一个项目的时候，我们的Studio就会自己生成一个HelloWorld项目，这也是我们正式入门HarmonyOS APP移动开发的第一个项目。</p> <p>​	对于这个项目，我们需要了解的知识点只有四个</p> <p>​				1、如何运行项目</p> <p>​				2、页面中的包含关系</p> <p>​				3、配置文件：confifig.json</p> <p>​				4、了解程序的启动流程</p> <h4 id="运行项目"><a href="#运行项目" class="header-anchor">#</a> 运行项目</h4> <ol><li>要运行项目就需要我们去登录我们的华为开发者账号，点击Studio右上角的登录按钮登录即可</li> <li>要运行项目，我们就需要使用到模拟器来运行项目，华为官方为我们提供了两种模拟器，一种是本地模拟器，一种是在线模拟器，我们将使用在线模拟器来讲解。</li></ol> <p><img src="https://www.itcyy.cn/nailong/img/img/%E5%B7%A5%E5%85%B7.png" alt=""></p> <p>点击工具（tools）下的Device Manger，进入如图所示页面</p> <p><img src="https://www.itcyy.cn/nailong/img/img/%E6%A8%A1%E6%8B%9F%E5%99%A8.png" alt=""></p> <p>在这里我们选择Remote Emulator，选择需要的手机型号，点击绿色的三角形就行启动模拟器</p> <p>这里需要注意，我们这里的API与我们所安装的HarmonyOS SDK 是息息相关的，如果你没有安装对应版本的SDK那么程序就会运行错误</p> <h4 id="页面中的包含关系"><a href="#页面中的包含关系" class="header-anchor">#</a> 页面中的包含关系</h4> <p>​		MainAbility是项目启动的第一个界面，在界面里面不是直接显示内容的。在界面里面展示的是子界面，我们也称之为切片，或者片	段，在子界面里面才是显示内容。</p> <p><img src="https://www.itcyy.cn/nailong/img/img/%E8%AF%B4%E6%98%8E.png" alt=""></p> <p>如图所示，MainAbility是我们第一个所展示的页面，MainAbilitySlice就是一个子页面，而我们的内容只能在子页面里展现出来。</p> <ul><li>MainAbility （界面）<strong>包含</strong>一个或多个MainAbilitySlice（子界面）</li> <li>MainAbilitySlice（子界面）<strong>包含</strong>要显示的内容</li></ul> <h4 id="配置文件-config-json"><a href="#配置文件-config-json" class="header-anchor">#</a> 配置文件：config.json</h4> <p>​		config.json 是整个APP项目的配置文件。所有项目信息都会配置在这里，如，版本号，厂商信息等</p> <p><img src="https://www.itcyy.cn/nailong/img/img/peizhi.png" alt=""></p> <h4 id="程序运行过程"><a href="#程序运行过程" class="header-anchor">#</a> 程序运行过程</h4> <p><img src="https://www.itcyy.cn/nailong/img/img/%E8%BF%87%E7%A8%8B.png" alt=""></p> <h4 id="实现页面跳转"><a href="#实现页面跳转" class="header-anchor">#</a> 实现页面跳转</h4> <p>通过代码实现以下操作</p> <p><img src="https://www.itcyy.cn/nailong/img/img/2%E9%A1%B9%E7%9B%AE.png" alt=""></p> <p>设计步骤：</p> <div class="language- extra-class"><pre><code>	1. 设置页面文本内容，按钮组件
	2. 设置第二个页面内容
	3. 设置时间进行跳转
</code></pre></div><p>下面先来对Layout下的xml文件进行编辑</p> <p>补充知识：</p> <p>在MainAbilitySlice.java里</p> <p><img src="https://www.itcyy.cn/nailong/img/img/lay.png" alt=""></p> <p>如图，ResourceTable.Layout_ability_main表示的是在resource下有一个叫ability_main.xml的文件，这个文件是我们的主页面，HarmonyOS的app开发是通过xml来进行页面设计的。</p> <p>下面我们正式开始进行编程解决这个问题</p> <p>ability_main.xml</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DirectionalLayout</span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>ohos</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.huawei.com/res/ohos<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">ohos:</span>height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">ohos:</span>width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">ohos:</span>alignment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">ohos:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span>
        <span class="token attr-name"><span class="token namespace">ohos:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$+id:text_helloworld<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">ohos:</span>height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">ohos:</span>width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">ohos:</span>background_element</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$graphic:background_ability_main<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">ohos:</span>layout_alignment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal_center<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">ohos:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>itcyy第一个页面<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">ohos:</span>text_size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40vp<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">ohos:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$+id:cyy_one_button<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">ohos:</span>height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">ohos:</span>width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">ohos:</span>text_size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40fp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">ohos:</span>background_element</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">ohos:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>点我<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DirectionalLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>下面需要建立一个新的切片</p> <p><img src="https://www.itcyy.cn/nailong/img/img/1.png" alt=""></p> <p>选择slice包，右键</p> <p><img src="https://www.itcyy.cn/nailong/img/img/2.png" alt=""></p> <p>我们选择新建&gt;Ability &gt;Empty Page Ability（Java）</p> <p><img src="https://www.itcyy.cn/nailong/img/img/3.png" alt=""></p> <p>在这里我们就可以新建切片了，不要选择图中的Launcher ability，否则它就会变成我们的主页面了</p> <p>我们在HarmonyOS开发里，有两种布局方式，一种是xml，一种是直接用java进行编写，在这里，我们第二个页面通过Java编写</p> <p>cyy__two_AbilitySlice.java</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itcyy<span class="token punctuation">.</span>myapplication<span class="token punctuation">.</span>slice</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>itcyy<span class="token punctuation">.</span>myapplication<span class="token punctuation">.</span></span><span class="token class-name">ResourceTable</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">ohos<span class="token punctuation">.</span>aafwk<span class="token punctuation">.</span>ability<span class="token punctuation">.</span></span><span class="token class-name">AbilitySlice</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">ohos<span class="token punctuation">.</span>aafwk<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Intent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">ohos<span class="token punctuation">.</span>agp<span class="token punctuation">.</span>components<span class="token punctuation">.</span></span><span class="token class-name">DirectionalLayout</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">ohos<span class="token punctuation">.</span>agp<span class="token punctuation">.</span>components<span class="token punctuation">.</span></span><span class="token class-name">Text</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">ohos<span class="token punctuation">.</span>agp<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">Color</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> cyy_two_AbilitySlice <span class="token keyword">extends</span> <span class="token class-name">AbilitySlice</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//super.setUIContent(ResourceTable.Layout_ability_cyy_two_);</span>

        <span class="token comment">//1.创建一个布局对象</span>
        <span class="token class-name">DirectionalLayout</span> dl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DirectionalLayout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2.创建一个文本对象</span>
        <span class="token class-name">Text</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//设置内容</span>
        t<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;cyy第二个页面&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//设置大小</span>
        t<span class="token punctuation">.</span><span class="token function">setTextSize</span><span class="token punctuation">(</span><span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">//设置文本颜色</span>

        t<span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">BLUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">//将文本对象加入布局中</span>

        dl<span class="token punctuation">.</span><span class="token function">addComponent</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//4.把创建的布局加入到子页面中</span>

        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">setUIContent</span><span class="token punctuation">(</span>dl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onForeground</span><span class="token punctuation">(</span><span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onForeground</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>MainAbilitySlice.java</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itcyy<span class="token punctuation">.</span>myapplication<span class="token punctuation">.</span>slice</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>itcyy<span class="token punctuation">.</span>myapplication<span class="token punctuation">.</span></span><span class="token class-name">ResourceTable</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">ohos<span class="token punctuation">.</span>aafwk<span class="token punctuation">.</span>ability<span class="token punctuation">.</span></span><span class="token class-name">AbilitySlice</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">ohos<span class="token punctuation">.</span>aafwk<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Intent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">ohos<span class="token punctuation">.</span>aafwk<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Operation</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">ohos<span class="token punctuation">.</span>agp<span class="token punctuation">.</span>components<span class="token punctuation">.</span></span><span class="token class-name">Button</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">ohos<span class="token punctuation">.</span>agp<span class="token punctuation">.</span>components<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainAbilitySlice</span> <span class="token keyword">extends</span> <span class="token class-name">AbilitySlice</span> <span class="token keyword">implements</span> <span class="token class-name">Component<span class="token punctuation">.</span>ClickedListener</span> <span class="token punctuation">{</span>
    <span class="token class-name">Button</span> cyy_button<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">setUIContent</span><span class="token punctuation">(</span><span class="token class-name">ResourceTable<span class="token punctuation">.</span>Layout_ability_main</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//1.通过id寻找创建的按钮</span>

        <span class="token comment">//Button cyy_button = (Button)findComponentById(ResourceTable.Id_cyy_one_button);</span>
        cyy_button <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Button</span><span class="token punctuation">)</span><span class="token function">findComponentById</span><span class="token punctuation">(</span><span class="token class-name">ResourceTable<span class="token punctuation">.</span>Id_cyy_one_button</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2.给按钮添加一个点击事件</span>
        <span class="token comment">//如果按钮没有添加点击事件，那么点击按钮将不会有任何反应</span>
        <span class="token comment">//如果我们给按钮添加了点击事件的话，那么我们点击按钮之后就会执行相应的代码</span>

        <span class="token comment">//当我们点击了cyy_button这个按钮之后，那么就会实现本类的onClick方法</span>
        cyy_button<span class="token punctuation">.</span><span class="token function">setClickedListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//注意这里是需要继承Component.ClickedListener接口的</span>


    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onForeground</span><span class="token punctuation">(</span><span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onForeground</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">//点击按钮需要执行的代码</span>
        <span class="token comment">//跳转到第二个页面</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>component  <span class="token operator">==</span> cyy_button<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//只有点击了cyy_button 这个按钮后才进行跳转</span>


            <span class="token comment">//跳转到哪个页面（意图）</span>

            <span class="token comment">//创建意图对象</span>

            <span class="token class-name">Intent</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//包含了要跳转页面的详细信息</span>

            <span class="token class-name">Operation</span> operation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent<span class="token punctuation">.</span>OperationBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">withDeviceId</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token comment">//要跳转到哪个设备上，如果传递一个空字符串，则表示跳转到本机</span>
                    <span class="token punctuation">.</span><span class="token function">withBundleName</span><span class="token punctuation">(</span><span class="token string">&quot;com.itcyy.myapplication&quot;</span><span class="token punctuation">)</span><span class="token comment">//要跳转到哪个应用上，小括号里可写包名</span>
                    <span class="token punctuation">.</span><span class="token function">withAbilityName</span><span class="token punctuation">(</span><span class="token string">&quot;com.itcyy.myapplication.cyy_two_Ability&quot;</span><span class="token punctuation">)</span><span class="token comment">//要跳转到哪个页面，小括号填写包名</span>
                    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将上面三个信息打包</span>
            <span class="token comment">//把打包之后的operation对象传到意图里</span>

            i<span class="token punctuation">.</span><span class="token function">setOperation</span><span class="token punctuation">(</span>operation<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//跳转页面</span>

            <span class="token function">startAbility</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>看下效果</p> <p><img src="https://www.itcyy.cn/nailong/img/img/j1.png" alt=""></p> <p><img src="https://www.itcyy.cn/nailong/img/img/j2.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/zh/guide/hos/java/01.html">
        HarmonyOS app 开发应用框架的架构和组成（Java）
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c7e71d16.js" defer></script><script src="/assets/js/2.733019b2.js" defer></script><script src="/assets/js/30.f746f063.js" defer></script>
  </body>
</html>
